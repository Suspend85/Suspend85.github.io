"use strict";var form=document.querySelector(".formSubmiting"),birthday=form.querySelector(".date"),firstName=form.querySelector(".firstName"),lastName=form.querySelector(".lastName"),email=form.querySelector(".email"),emailError=document.querySelector("#mail + div.error"),password=form.querySelector(".password"),passwordConfirm=form.querySelector(".passwordConfirm"),fields=form.querySelectorAll(".field"),today=new Date,generateError=function(e){var r=document.createElement("div");return r.className="error",r.style.color="red",r.style.letterSpacing="0.5px",r.style.fontSize="13px",r.innerHTML=e,r},removeValidation=function(){for(var e=form.querySelectorAll(".error"),r=0;r<e.length;r++)e[r].remove()},checkFieldsPresence=function(){for(var e,r=0;r<fields.length;r++)fields[r].value||(e=generateError("Заполните это поле"),form[r].parentElement.appendChild(e,fields[r]))},checkBirthday=function(){var e=birthday.value.split("-")[0],r=today.getFullYear(),e=parseInt(r)-parseInt(e);birthday.value&&e<18&&(e=generateError("Регистрация только от 18 лет"),birthday.parentElement.appendChild(e,birthday))},checkFirstName=function(){var e;firstName.value&&!/^[A-Za-zА-Яа-яЁё ,.'-]{1,}$/.test(firstName.value)&&(e=generateError("Имя должно состоять только из букв и символов ' - , ."),firstName.parentElement.appendChild(e,firstName)),firstName.value&&(firstName.value.length<2||31<firstName.value.length)&&(e=generateError("Длина должна быть от 2 до 31 символов"),firstName.parentElement.appendChild(e,firstName))},checkLastName=function(){var e;lastName.value&&!/^[A-Za-zА-Яа-яЁё ,.'-]{1,}$/.test(lastName.value)&&(e=generateError("Фамилия должна состоять только из букв и символов ' - , ."),lastName.parentElement.appendChild(e,lastName)),lastName.value&&(lastName.value.length<2||31<lastName.value.length)&&(e=generateError("Длина должна быть от 2 до 31 символов"),lastName.parentElement.appendChild(e,lastName))},checkEmail=function(){var e;email.value&&!/.+@.+\..+/i.test(String(email.value).toLowerCase())&&(e=generateError("Введите корректный email"),email.parentElement.appendChild(e,email))},checkPass=function(){var e;password.value&&!/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[^a-zA-Z0-9])(?!.*\s).{1,}$/.test(String(password.value))&&(e=generateError("Должен содержать 1 цифру, спецсимвол, заглавную или строчную букву"),password.parentElement.appendChild(e,password)),password.value&&password.value.length<8&&(e=generateError("Должен быть не менее 8 символов"),password.parentElement.appendChild(e,password))},checkPassMatch=function(){var e;password.value!==passwordConfirm.value&&(e=generateError("Пароли не совпадают"),passwordConfirm.parentElement.appendChild(e,passwordConfirm))};form.addEventListener("submit",function(e){e.preventDefault(),removeValidation(),checkFieldsPresence(),checkBirthday(),checkFirstName(),checkLastName(),checkEmail(),checkPass(),checkPassMatch()});