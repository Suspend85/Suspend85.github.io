"use strict";var form=document.querySelector(".formSubmiting"),birthday=form.querySelector(".date"),firstName=form.querySelector(".firstName"),lastName=form.querySelector(".lastName"),email=form.querySelector(".email"),password=form.querySelector(".password"),passwordConfirm=form.querySelector(".passwordConfirm"),fields=form.querySelectorAll(".field");birthday.addEventListener("click",function(){birthday.setAttribute("max",(new Date).toISOString().substring(0,10))});var generateError=function(e){var r=document.createElement("div");return r.className="error",r.style.color="red",r.style.fontSize="13px",r.innerHTML=e,r},clearErrorMessages=function(){for(var e=form.querySelectorAll(".error"),r=0;r<e.length;r++)e[r].remove()},checkFieldsPresence=function(){for(var e,r=0;r<fields.length;r++)fields[r].value||(e=generateError("Заполните это поле"),form[r].parentElement.appendChild(e,fields[r]))},checkBirthday=function(){var e=new Date,r=birthday.value.split("-")[0],e=e.getFullYear(),r=parseInt(e)-parseInt(r);birthday.value&&r<18&&(r=generateError("Регистрация только с 18 лет"),birthday.parentElement.appendChild(r,birthday))},checkFirstName=function(){var e;firstName.value&&!/^[A-Za-zА-Яа-яЁё ,.'-]{1,}$/.test(firstName.value)&&(e=generateError("Имя может содержать только буквы и символы ' - , ."),firstName.parentElement.appendChild(e,firstName)),firstName.value&&firstName.value.length<2&&(e=generateError("Длина должна быть не менее 2 символов"),firstName.parentElement.appendChild(e,firstName))},checkLastName=function(){var e;lastName.value&&!/^[A-Za-zА-Яа-яЁё ,.'-]{1,}$/.test(lastName.value)&&(e=generateError("Фамилия может сожержать только буквы и символы ' - , ."),lastName.parentElement.appendChild(e,lastName)),lastName.value&&lastName.value.length<2&&(e=generateError("Длина должна быть не менее 2 символов"),lastName.parentElement.appendChild(e,lastName))},checkEmail=function(){var e;email.value&&!/.+@.+\..+/i.test(String(email.value).toLowerCase())&&(e=generateError("Введите корректный email"),email.parentElement.appendChild(e,email))},checkPass=function(){var e;password.value&&!/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[^a-zA-Z0-9])(?!.*\s).{1,}$/.test(String(password.value))&&(e=generateError("Пароль должен содержать минимум 1 цифру, спецсимвол, заглавную, строчную букву."),password.parentElement.appendChild(e,password)),password.value&&password.value.length<8&&(e=generateError("Пароль должен быть не менее 8 символов"),password.parentElement.appendChild(e,password))},checkPassMatch=function(){var e;password.value!==passwordConfirm.value&&(e=generateError("Пароли не совпадают"),passwordConfirm.parentElement.appendChild(e,passwordConfirm))};form.addEventListener("submit",function(e){e.preventDefault(),clearErrorMessages(),checkFieldsPresence(),checkBirthday(),checkFirstName(),checkLastName(),checkEmail(),checkPass(),checkPassMatch()});